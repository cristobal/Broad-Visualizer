<?xml version="1.0" encoding="utf-8"?>
<menu:PlaybackContainer xmlns:fx="http://ns.adobe.com/mxml/2009" 
						xmlns:s="library://ns.adobe.com/flex/spark" 
						xmlns:mx="library://ns.adobe.com/flex/mx" 
						xmlns:menu="com.bienvisto.ui.menu.*"
						backgroundColor="0xF1F1F1"
						borderColor="0xCCCCCC" creationComplete="initComponent(event)">
	
	<fx:Script>
		<![CDATA[
			import mx.events.FlexEvent;
			[Event(name="play", type="flash.events.Event")]
			public static const PLAY:String = "play";
			
			[Event(name="pause", type="flash.events.Event")]
			public static const PAUSE:String = "pause";
			
			
			/**
			 * Init component
			 */ 
			private function initComponent(event:FlexEvent):void
			{
				playButton.addEventListener(MouseEvent.CLICK, handlePlayButtonClick);
			}
			
			/**
			 * @private
			 */ 
			private var _playButtonState:String = PLAY;
			
			/**
			 * @readwrite playButtonState
			 */ 
			public function set playButtonState(value:String):void
			{
				if (!(value == PLAY || value == PAUSE)) {
					throw(new Error("Invalid playback button state"));
				}
				
				_playButtonState = value;
				playButton.label = value.substr(0,1).toUpperCase() + value.substr(1);
			}
			
			public function get playButtonState():String
			{
				return _playButtonState;
			}
			
			
			/**
			 * Handle play button click
			 */ 
			private function handlePlayButtonClick(event:MouseEvent):void
			{
				dispatchEvent(new Event(playButtonState));
				if (playButtonState == PLAY) {
					playButtonState = PAUSE;
				}
				else {
					playButtonState = PLAY;
				}
			}
			
		]]>
	</fx:Script>
	<s:Group width="20%" height="50" top="0">
		<s:CheckBox id="gridCheckbox" label="Grid" left="5" top="15" />
	</s:Group>
	
	<s:Group width="100%" height="50" top="0" left="20%">
		<s:layout>
			<s:HorizontalLayout horizontalAlign="center" verticalAlign="middle" paddingTop="0" paddingLeft="20" />
		</s:layout>
		
		<!-- Zoom -->
		<s:Label>Zoom</s:Label>
		<menu:MenuStepper id="zoomLevel" value="100" stepSize="10" snapInterval="10" maximum="200" minimum="10" />
		
		<!-- playButton -->
		<s:Button id="playButton" label="Play" />
		
		<!-- Playback speed -->
		<menu:IntervalStepper id="playbackSpeed" 
						  width="45"
						  value="1"  />
		
		<!-- Time slider -->
		<s:HSlider id="timeSlider" enabled="false" width="300" minimum="0" maximum="1000" />
		
		<!-- Time display -->
		<s:Label id="timeLabel">00:00:00</s:Label>
		<s:Label>/</s:Label>
		<s:Label id="durationLabel">00:00:00</s:Label>
		
	</s:Group>
</menu:PlaybackContainer>
